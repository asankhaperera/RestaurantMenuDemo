{"EDITOR_STATE":{"allProjectFiles":{"d52c44d3-6cb3-40c8-aeef-b600c7593018":{"id":"d52c44d3-6cb3-40c8-aeef-b600c7593018","parent":null,"name":"RestaurantMenuDemo","type":"DIRECTORY","isDirectory":true,"children":["274f97a4-8c15-47c0-b838-9fe2db405784","c9a9bcbf-2b8a-4c90-b801-c0be3aa4462a"],"isRemovable":false,"filePath":"RestaurantMenuDemo"},"274f97a4-8c15-47c0-b838-9fe2db405784":{"id":"274f97a4-8c15-47c0-b838-9fe2db405784","parent":"d52c44d3-6cb3-40c8-aeef-b600c7593018","name":"lambda.js","type":"LAMBDA_FILE","isDirectory":false,"children":[],"isRemovable":true,"filePath":"RestaurantMenuDemo/lambda.js","code":"let AWS = require('aws-sdk');\nconst ddb = new AWS.DynamoDB.DocumentClient();\n\nexports.handler = function (event, context, callback) {\n\n    ddb.put({\n        TableName: 'MenuItems',\n        Item: { 'itemCode': event.itemCode, 'itemName': event.name, 'itemPrice': event.itemPrice, 'itemType': event.itemType }\n    }).promise().then(function (data) {\n        //your logic goes here\n        callback(null, 'Sucessfully persisted');\n    }).catch(function (err) {\n        //handle error\n    });\n}","triggers":[{"resourceName":"apigusEast1restmenuapisavepost","config":{}}],"config":{"runtime":"nodejs8.10","timeout":60,"memory":128},"testCases":{"de04d8a0-e48e-45c6-a26e-d2c29fd16aa9":{"id":"de04d8a0-e48e-45c6-a26e-d2c29fd16aa9","name":"Chicken Pasta","functionId":"274f97a4-8c15-47c0-b838-9fe2db405784","event":"{\n  \"itemCode\": \"CHICKP\",\n  \"itemName\": \"Chicken Pasta\",\n  \"itemPrice\": 20,\n  \"itemType\": \"NON_VEG\"\n}"},"f61144d0-882c-4be5-9ca5-01a215057087":{"id":"f61144d0-882c-4be5-9ca5-01a215057087","name":"Tomato Soup","functionId":"274f97a4-8c15-47c0-b838-9fe2db405784","event":"{\n  \"itemCode\": \"TOMS\",\n  \"itemName\": \"Tomato Soup\",\n  \"itemPrice\": 10,\n  \"itemType\": \"VEG\"\n}"}}},"c9a9bcbf-2b8a-4c90-b801-c0be3aa4462a":{"id":"c9a9bcbf-2b8a-4c90-b801-c0be3aa4462a","parent":"d52c44d3-6cb3-40c8-aeef-b600c7593018","name":"list.js.js","type":"LAMBDA_FILE","isDirectory":false,"children":[],"isRemovable":true,"filePath":"RestaurantMenuDemo/list.js.js","code":"let AWS = require('aws-sdk');\nconst ddb = new AWS.DynamoDB.DocumentClient();\n\nexports.handler = function (event, context, callback) {\n\n    let response = {\n    \"statusCode\": 200,\n    \"headers\": {\n        \"headerName\": \"headerValue\"\n    },\n    \"body\": \"...\"\n    };\n    let itemType = (event.queryStringParameters && event.queryStringParameters.type) || \"NON_VEG\";\n\n    ddb.scan({\n        TableName: 'MenuItems',\n        ExpressionAttributeValues: {\n            ':it': itemType\n        },\n        FilterExpression: 'itemType = :it'\n    }).promise().then(function (data) {\n        //your logic goes here\n        if (data.Items) {\n            response.body = JSON.stringify(data.Items)\n        } else {\n            response.body = \"No items\";\n        }\n        callback(null, response);\n    }).catch(function (err) {\n        //handle error\n    });\n\n}","triggers":[{"resourceName":"apigusEast1restmenuapilistget","config":{}}],"config":{"runtime":"nodejs8.10","timeout":60,"memory":128},"testCases":{"cf3ff2b4-820f-4bde-bfd8-b6c19bdb3d45":{"id":"cf3ff2b4-820f-4bde-bfd8-b6c19bdb3d45","name":"List NonVeg","functionId":"c9a9bcbf-2b8a-4c90-b801-c0be3aa4462a","event":"{\n    \"queryStringParameters\": {\n        \"type\": \"NON_VEG\"\n    }\n}"},"e3f6cc63-d19e-426d-a52b-86ad277750cf":{"id":"e3f6cc63-d19e-426d-a52b-86ad277750cf","name":"List Veg","functionId":"c9a9bcbf-2b8a-4c90-b801-c0be3aa4462a","event":"{\n    \"queryStringParameters\": {\n        \"type\": \"VEG\"\n    }\n}"}}}},"deletedFiles":[],"rootNode":"d52c44d3-6cb3-40c8-aeef-b600c7593018","openFiles":["274f97a4-8c15-47c0-b838-9fe2db405784","c9a9bcbf-2b8a-4c90-b801-c0be3aa4462a"],"currentFileId":"c9a9bcbf-2b8a-4c90-b801-c0be3aa4462a","resources":{"apigusEast1restmenuapisavepost":{"name":"apigusEast1restmenuapisavepost","type":"API_GATEWAY","config":{"selectedRegion":"us-east-1","apiMode":0,"apiName":"restmenuapi","endpointType":"EDGE","resourceMode":0,"resourceName":"save","resourcePath":"/save","restMethod":"POST","proxyIntegration":false,"enableCORS":true,"stageMode":0,"stageName":"Staging"},"globallyEditable":false},"ddbMenuItems":{"name":"ddbMenuItems","type":"DynamoDB","config":{"mode":0,"operation":"scan","table":{"arn":"","name":"MenuItems","partitionKey":"itemCode","partitionKeyType":"S","hasSortKey":false,"sortKey":"","sortKeyType":"S","mode":0},"parameters":{"TableName":"MenuItems","ExpressionAttributeValues":{":it":"@{itemType}"},"FilterExpression":"itemType = :it"},"validator":{"validatableFields":{},"validity":true},"valid":true},"globallyEditable":false},"apigusEast1restmenuapilistget":{"name":"apigusEast1restmenuapilistget","type":"API_GATEWAY","config":{"selectedRegion":"us-east-1","apiMode":0,"apiName":"restmenuapi","apiId":"uedokmjqd7","endpointType":"EDGE","rootResourceId":"3ohntrwzog","existingResources":{"/":"3ohntrwzog","/save":"c617q7"},"resourceMode":0,"resourceName":"list","resourcePath":"/list","restMethod":"GET","proxyIntegration":true,"enableCORS":true,"stageMode":0,"stageName":"staging"},"globallyEditable":false}},"envVariables":[{"lambdaId":"all","varKey":"SIGMA_AWS_ACC_ID","varValue":null,"shouldPersist":false,"displayOnly":false,"editable":false}],"packageJSON":{"dependencies":{}},"lambdaId":"274f97a4-8c15-47c0-b838-9fe2db405784"},"PROJECT_META":{"projectName":"RestaurantMenuDemo","projectDescription":"","projectVersion":"1.0.0","projectRegion":"us-east-1","platform":"AWS","lastSave":1542039900566},"VCS_STATE":{"provider":"GitHub","repo":{"name":"RestaurantMenuDemo","url":"https://github.com/asankhaperera/RestaurantMenuDemo"}}}